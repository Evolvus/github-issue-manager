import{j as e,I as C,C as A,d as k}from"./index-D9dTo_Rc.js";import{r as m,u as T}from"./react-vendor-Dku4jBrG.js";import{T as E,a as S,b as x,c as o,d as y,e as t}from"./table-CYnngszr.js";import{A as D,a as O,b as L}from"./avatar-C9-6Q88m.js";import{S as B}from"./search-D7kZdEDu.js";function M(r="?"){const i=r.split(/\s+|\//g).filter(Boolean),c=i[0]?.[0]||"?",d=i[1]?.[0]||"";return(c+d).toUpperCase()}function R({allIssues:r,query:i,setQuery:c,setFilterAssignee:d,setFilterState:f,setFilterProjectStatus:p,setFilterTag:v,setFilterIssueType:N}){const u=m.useMemo(()=>{const s=new Map;for(const n of r){const l=n.assignees.length?n.assignees:[{login:"(unassigned)",avatarUrl:"",url:"#"}];for(const a of l){const g=a.login||"(unassigned)";s.has(g)||s.set(g,{assignee:a,issues:[]}),s.get(g).issues.push(n)}}return Array.from(s.values()).sort((n,l)=>l.issues.length-n.issues.length)},[r]),j=m.useMemo(()=>{const s=i.toLowerCase();return u.filter(n=>n.assignee.login.toLowerCase().includes(s))},[u,i]),b=T(),h=(s,n="",l="",a="")=>{d(s),f(n),p(l),v(a),N(""),c(""),b("/all-issues")};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"w-4 h-4 absolute left-2 top-1/2 -translate-y-1/2"}),e.jsx(C,{"data-quick-open":!0,placeholder:"Search assignees...",value:i,onChange:s=>c(s.target.value),className:"pl-7 w-72"})]})}),e.jsx(A,{children:e.jsx(k,{className:"p-0",children:e.jsxs(E,{children:[e.jsx(S,{children:e.jsxs(x,{children:[e.jsx(o,{children:"Assignee"}),e.jsx(o,{children:"Open"}),e.jsx(o,{children:"Closed"}),e.jsx(o,{children:"Total"})]})}),e.jsxs(y,{children:[j.map(s=>{const n=s.issues.filter(a=>a.state==="OPEN").length,l=s.issues.filter(a=>a.state==="CLOSED").length;return e.jsxs(x,{children:[e.jsx(t,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(D,{className:"w-7 h-7",children:[e.jsx(O,{src:s.assignee.avatarUrl}),e.jsx(L,{children:M(s.assignee.login)})]}),e.jsx("a",{href:s.assignee.url,target:"_blank",rel:"noreferrer",className:"hover:underline",children:s.assignee.login})]})}),e.jsx(t,{children:e.jsx("a",{href:"#",className:"text-blue-600 underline",onClick:a=>{a.preventDefault(),h(s.assignee.login,"OPEN")},children:n})}),e.jsx(t,{children:e.jsx("a",{href:"#",className:"text-blue-600 underline",onClick:a=>{a.preventDefault(),h(s.assignee.login,"CLOSED")},children:l})}),e.jsx(t,{children:e.jsx("a",{href:"#",className:"text-blue-600 underline",onClick:a=>{a.preventDefault(),h(s.assignee.login)},children:s.issues.length})})]},s.assignee.login)}),!j.length&&e.jsx(x,{children:e.jsx(t,{colSpan:4,children:e.jsx("div",{className:"text-sm text-gray-500",children:"No data available."})})})]})]})})})]})}export{R as default};
