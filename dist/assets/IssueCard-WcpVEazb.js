import{j as t,C as c,a as m,b as x,d}from"./index-D9dTo_Rc.js";import"./react-vendor-Dku4jBrG.js";import{B as p}from"./badge-Dce5Ri_g.js";import{A as f,a as h,b as j}from"./avatar-C9-6Q88m.js";function g(e="?"){const r=e.split(/\s+|\//g).filter(Boolean),n=r[0]?.[0]||"?",a=r[1]?.[0]||"";return(n+a).toUpperCase()}function i(e){let r=e.replace(/^#/,"");r.length===3&&(r=r.split("").map(o=>o+o).join(""));const n=parseInt(r.substr(0,2),16),a=parseInt(r.substr(2,2),16),l=parseInt(r.substr(4,2),16);return[n,a,l].some(isNaN)||(.299*n+.587*a+.114*l)/255>.5?"#000000":"#ffffff"}function C({issue:e,showMilestone:r=!0}){const n=e.labels.filter(s=>!/^type:\s*/i.test(s.name)),a=(e.issueType?.color||"6b7280").replace(/^#/,""),l=a.length===3?a.split("").map(s=>s+s).join(""):a;return t.jsxs(c,{children:[t.jsx(m,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(x,{className:"truncate",children:t.jsxs("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"hover:underline",children:["#",e.number," ",e.title]})}),t.jsx(p,{variant:"secondary",children:e.state})]})}),t.jsxs(d,{children:[t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:e.repository?.nameWithOwner}),r&&e.milestone&&t.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Milestone: ",e.milestone.title]}),e.project_status&&t.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Status: ",e.project_status]}),e.issueType&&t.jsx("div",{className:"mt-1",children:t.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:`#${l}`,color:i(l)},children:e.issueType.name})}),n.length>0&&t.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:n.map(s=>t.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:`#${s.color}`,color:i(s.color)},children:s.name},s.id))}),t.jsx("div",{className:"mt-2 flex items-center gap-1",children:e.assignees.length?e.assignees.map(s=>t.jsxs(f,{className:"w-6 h-6",title:s.login,children:[t.jsx(h,{src:s.avatarUrl}),t.jsx(j,{children:g(s.login)})]},s.login)):t.jsx("span",{className:"text-xs text-gray-500",children:"(unassigned)"})})]})]})}export{C as I};
